<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="566px" preserveAspectRatio="none" style="width:784px;height:566px;" version="1.1" viewBox="0 0 784 566" width="784px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ci5vz5zqz4ex" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[b8338156e8cd96c783f5ffc7d8021ea7]
class Memento--><rect codeLine="3" fill="#FEFECE" filter="url(#f1ci5vz5zqz4ex)" height="92.3516" id="Memento" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="29.5" y="7"/><ellipse cx="55.3" cy="25.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M56.2531,22.75 L57.9719,22.75 C58.3625,22.75 58.55,22.7188 58.675,22.6406 C58.9406,22.4844 59.0813,22.2031 59.0813,21.9063 C59.0813,21.6406 58.9719,21.375 58.7375,21.2031 C58.5656,21.0938 58.425,21.0625 57.9719,21.0625 L52.8313,21.0625 C52.3938,21.0625 52.2688,21.0781 52.1125,21.1719 C51.8625,21.3281 51.7063,21.625 51.7063,21.9063 C51.7063,22.1875 51.8469,22.4375 52.0656,22.6094 C52.2219,22.7188 52.4094,22.75 52.8313,22.75 L54.55,22.75 L54.55,29.2656 L52.8313,29.2656 C52.3938,29.2656 52.2688,29.2813 52.1125,29.3906 C51.8625,29.5469 51.7063,29.8281 51.7063,30.125 C51.7063,30.375 51.8469,30.6406 52.0656,30.7969 C52.2219,30.9219 52.425,30.9688 52.8313,30.9688 L57.9719,30.9688 C58.7219,30.9688 59.0813,30.6875 59.0813,30.125 C59.0813,29.8438 58.9719,29.5938 58.7375,29.4219 C58.5656,29.2969 58.425,29.2656 57.9719,29.2656 L56.2531,29.2656 L56.2531,22.75 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="72.7" y="23.1387">Interface</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="75.7" y="37.1074">Memento</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="30.5" x2="144.5" y1="44.9375" y2="44.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="30.5" x2="144.5" y1="52.9375" y2="52.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="81" x="35.5" y="67.1479">+state():string</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="78" x="35.5" y="79.9526">+date():string</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="35.5" y="92.7573">+getName():string</text><!--MD5=[d29d7358bcb17c0c252c4d5e15e0e8b7]
class ConcreteMemento--><rect codeLine="9" fill="#FEFECE" filter="url(#f1ci5vz5zqz4ex)" height="124.8281" id="ConcreteMemento" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="7" y="423"/><ellipse cx="47.2" cy="439" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M49.5438,434.6719 C48.6063,434.2344 48.0125,434.0938 47.1375,434.0938 C44.5125,434.0938 42.5125,436.1719 42.5125,438.8906 L42.5125,440.0156 C42.5125,442.5938 44.6219,444.4844 47.5125,444.4844 C48.7313,444.4844 49.8875,444.1875 50.6375,443.6406 C51.2156,443.2344 51.5438,442.7813 51.5438,442.3906 C51.5438,441.9375 51.1531,441.5469 50.6844,441.5469 C50.4656,441.5469 50.2625,441.625 50.075,441.8125 C49.6219,442.2969 49.6219,442.2969 49.4344,442.3906 C49.0125,442.6563 48.325,442.7813 47.5594,442.7813 C45.5125,442.7813 44.2156,441.6875 44.2156,439.9844 L44.2156,438.8906 C44.2156,437.1094 45.4656,435.7969 47.2,435.7969 C47.7781,435.7969 48.3875,435.9531 48.8563,436.2031 C49.3406,436.4844 49.5125,436.7031 49.6063,437.1094 C49.6688,437.5156 49.7,437.6406 49.8406,437.7656 C49.9813,437.9063 50.2156,438.0156 50.4344,438.0156 C50.7,438.0156 50.9656,437.875 51.1375,437.6563 C51.2469,437.5 51.2781,437.3125 51.2781,436.8906 L51.2781,435.4688 C51.2781,435.0313 51.2625,434.9063 51.1688,434.75 C51.0125,434.4844 50.7313,434.3438 50.4344,434.3438 C50.1375,434.3438 49.9344,434.4375 49.7156,434.75 L49.5438,434.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="66.8" y="443.1543">ConcreteMemento</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8" x2="205" y1="455" y2="455"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="13" y="469.2104">-string m_state</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="13" y="482.0151">-string m_date</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8" x2="205" y1="488.6094" y2="488.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="13" y="502.8198">+ConcreteMemento(string state)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="13" y="515.6245">+string state()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="13" y="528.4292">+string date()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="13" y="541.2339">+string getName()</text><!--MD5=[7741422977f4247944b44037bf409cca]
class Originator--><rect codeLine="20" fill="#FEFECE" filter="url(#f1ci5vz5zqz4ex)" height="112.0234" id="Originator" style="stroke: #A80036; stroke-width: 1.5;" width="242" x="77.5" y="248"/><ellipse cx="164.25" cy="264" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M166.5938,259.6719 C165.6563,259.2344 165.0625,259.0938 164.1875,259.0938 C161.5625,259.0938 159.5625,261.1719 159.5625,263.8906 L159.5625,265.0156 C159.5625,267.5938 161.6719,269.4844 164.5625,269.4844 C165.7813,269.4844 166.9375,269.1875 167.6875,268.6406 C168.2656,268.2344 168.5938,267.7813 168.5938,267.3906 C168.5938,266.9375 168.2031,266.5469 167.7344,266.5469 C167.5156,266.5469 167.3125,266.625 167.125,266.8125 C166.6719,267.2969 166.6719,267.2969 166.4844,267.3906 C166.0625,267.6563 165.375,267.7813 164.6094,267.7813 C162.5625,267.7813 161.2656,266.6875 161.2656,264.9844 L161.2656,263.8906 C161.2656,262.1094 162.5156,260.7969 164.25,260.7969 C164.8281,260.7969 165.4375,260.9531 165.9063,261.2031 C166.3906,261.4844 166.5625,261.7031 166.6563,262.1094 C166.7188,262.5156 166.75,262.6406 166.8906,262.7656 C167.0313,262.9063 167.2656,263.0156 167.4844,263.0156 C167.75,263.0156 168.0156,262.875 168.1875,262.6563 C168.2969,262.5 168.3281,262.3125 168.3281,261.8906 L168.3281,260.4688 C168.3281,260.0313 168.3125,259.9063 168.2188,259.75 C168.0625,259.4844 167.7813,259.3438 167.4844,259.3438 C167.1875,259.3438 166.9844,259.4375 166.7656,259.75 L166.5938,259.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="184.75" y="268.1543">Originator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="78.5" x2="318.5" y1="280" y2="280"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="83.5" y="294.2104">-string m_state;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="78.5" x2="318.5" y1="300.8047" y2="300.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="83.5" y="315.0151">+Originator(string state) : m_state(state)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="83.5" y="327.8198">Memento *Save()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="83.5" y="340.6245">Restore(Memento* memento)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="83.5" y="353.4292">changeText(string text):void</text><path d="M140.5,159 L140.5,184.1328 L296.5,184.1328 L296.5,169 L286.5,159 L140.5,159 " fill="#FBFB77" filter="url(#f1ci5vz5zqz4ex)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M286.5,159 L286.5,169 L296.5,169 L286.5,159 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="146.5" y="176.0669">this-&gt;m_state = text</text><!--MD5=[97623df425179619299c02e71393d6f5]
class CareTaker--><rect codeLine="33" fill="#FEFECE" filter="url(#f1ci5vz5zqz4ex)" height="112.0234" id="CareTaker" style="stroke: #A80036; stroke-width: 1.5;" width="209" x="374" y="248.5"/><ellipse cx="443.25" cy="264.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M445.5938,260.1719 C444.6563,259.7344 444.0625,259.5938 443.1875,259.5938 C440.5625,259.5938 438.5625,261.6719 438.5625,264.3906 L438.5625,265.5156 C438.5625,268.0938 440.6719,269.9844 443.5625,269.9844 C444.7813,269.9844 445.9375,269.6875 446.6875,269.1406 C447.2656,268.7344 447.5938,268.2813 447.5938,267.8906 C447.5938,267.4375 447.2031,267.0469 446.7344,267.0469 C446.5156,267.0469 446.3125,267.125 446.125,267.3125 C445.6719,267.7969 445.6719,267.7969 445.4844,267.8906 C445.0625,268.1563 444.375,268.2813 443.6094,268.2813 C441.5625,268.2813 440.2656,267.1875 440.2656,265.4844 L440.2656,264.3906 C440.2656,262.6094 441.5156,261.2969 443.25,261.2969 C443.8281,261.2969 444.4375,261.4531 444.9063,261.7031 C445.3906,261.9844 445.5625,262.2031 445.6563,262.6094 C445.7188,263.0156 445.75,263.1406 445.8906,263.2656 C446.0313,263.4063 446.2656,263.5156 446.4844,263.5156 C446.75,263.5156 447.0156,263.375 447.1875,263.1563 C447.2969,263 447.3281,262.8125 447.3281,262.3906 L447.3281,260.9688 C447.3281,260.5313 447.3125,260.4063 447.2188,260.25 C447.0625,259.9844 446.7813,259.8438 446.4844,259.8438 C446.1875,259.8438 445.9844,259.9375 445.7656,260.25 L445.5938,260.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="463.75" y="268.6543">CareTaker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="375" x2="582" y1="280.5" y2="280.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="380" y="294.7104">-stack&lt;Memento*&gt; m_mementos;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="380" y="307.5151">-Originator *m_originator;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="375" x2="582" y1="314.1094" y2="314.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="380" y="328.3198">+CareTaker(Originator *originator)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="380" y="341.1245">+backUp():void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="380" y="353.9292">+undo():void</text><path d="M402.5,159 L402.5,184.1328 A0,0 0 0 0 402.5,184.1328 L588.105,184.1328 L584.5,336.5 L596.105,184.1328 L772.5,184.1328 A0,0 0 0 0 772.5,184.1328 L772.5,169 L762.5,159 L402.5,159 A0,0 0 0 0 402.5,159 " fill="#FBFB77" filter="url(#f1ci5vz5zqz4ex)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M762.5,159 L762.5,169 L772.5,169 L762.5,159 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="349" x="408.5" y="176.0669">this-&gt;m_mementos.push(this-&gt;m_originator-&gt;Save())</text><path d="M330.5,458 L330.5,513.3984 A0,0 0 0 0 330.5,513.3984 L628.5,513.3984 A0,0 0 0 0 628.5,513.3984 L628.5,468 L618.5,458 L517.165,458 L584.5,348.5 L509.165,458 L330.5,458 A0,0 0 0 0 330.5,458 " fill="#FBFB77" filter="url(#f1ci5vz5zqz4ex)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M618.5,458 L618.5,468 L628.5,468 L618.5,458 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="336.5" y="475.0669">Memento* memento= m_mementos.top()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="340.5" y="490.1997">m_mementos.pop()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="257" x="340.5" y="505.3325">this-&gt;m_originator-&gt;Restore(memento)</text><!--MD5=[62216752cf57e81248f07da4127aa711]
link OriginatorChangeText to Originator--><path codeLine="31" d="M247.944,184.212 C272.022,195.546 304.458,215.257 319.5,244 C341.242,285.546 367.391,349.5 320.5,349.5 " fill="none" id="OriginatorChangeText-Originator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[d4a5fecd6241c7d6abb0337c2a34584e]
reverse link Memento to ConcreteMemento--><path codeLine="54" d="M67.7344,118.753 C51.3847,181.689 33.5231,279.695 51.5,363 C55.8714,383.257 63.9087,404.2 72.5143,422.874 " fill="none" id="Memento-backto-ConcreteMemento" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="61.0445,116.679,73.0546,99.221,74.5524,120.358,61.0445,116.679" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1ea2bad0dce06affe90b414c54b44204]
reverse link Memento to Originator--><path codeLine="55" d="M97.2345,104.261 C102.9508,128.904 111.285,158.658 122.5,184 C131.55,204.45 143.84,225.42 155.897,243.926 " fill="none" id="Memento-backto-Originator" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="96.0543,99.084,94.155,108.748,97.1657,103.9589,101.9548,106.9697,96.0543,99.084" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[60dda35304ecbd4ea0220ba4aa937001]
link Originator to ConcreteMemento--><path codeLine="56" d="M166.072,367.945 C157.727,384.274 148.727,401.883 140.313,418.345 " fill="none" id="Originator-ConcreteMemento" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="137.956,422.955,145.6135,416.7613,140.2314,418.5027,138.4899,413.1206,137.956,422.955" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="168.376,363.439,160.7177,369.6317,166.1,367.891,167.8408,373.2733,168.376,363.439" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[96896dfc7dd3b81fb3082d76cc12cff8]
reverse link Memento to CareTaker--><path codeLine="57" d="M150.303,77.602 C197.081,96.483 261.563,125.315 313.5,159 C351.403,183.583 389.721,216.319 419.878,244.316 " fill="none" id="Memento-backto-CareTaker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="145.548,75.692,152.4079,82.759,150.1875,77.5561,155.3904,75.3358,145.548,75.692" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4209494231b26745c16aa7b1e70f4e06]
@startuml
skinparam classAttributeIconSize 0

interface "Interface \n Memento" as Memento{
    +{abstract} state():string
    +{abstract} date():string
    +{abstract} getName():string
}

class ConcreteMemento{

- string m_state
- string m_date
+ ConcreteMemento(string state)
+ string state()
+ string date()
+ string getName()
}


class Originator
{
    -string m_state;
    + Originator(string state) : m_state(state)
    Memento *Save()
    Restore(Memento* memento)
    changeText(string text):void
}

note "this->m_state = text" as OriginatorChangeText

OriginatorChangeText .. Originator::changeText

class CareTaker
{
    -stack<Memento*> m_mementos;
    -Originator *m_originator;
    +CareTaker(Originator *originator)
    +backUp():void
    +undo():void
}



note  "this->m_mementos.push(this->m_originator->Save())" as CareTakerBackUp



note "Memento* memento= m_mementos.top() \n m_mementos.pop() \n this->m_originator->Restore(memento)" as CareTakerUndo
       

CareTakerBackUp .. CareTaker::backUp
CareTaker::undo ..  CareTakerUndo

ConcreteMemento -up..|>  Memento
Originator -up..> Memento
Originator <- -> ConcreteMemento
CareTaker -up- -> Memento
@enduml

PlantUML version 1.2020.17beta5(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>